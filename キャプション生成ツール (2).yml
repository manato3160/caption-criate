app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆãƒ„ãƒ¼ãƒ«
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/bedrock:0.0.24@d15b21a5f8833d2489cd336798188b929a9f86e1c05f2f4770c05fc3e1e991bf
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/openai:0.2.7@9031bbf9b37d9f6341a20c78a8bd18d686afd3ff627545496c3557705419d084
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.6.4@17f286b2d6699a258a2eba8bc1bff71b8f795b6aa7bee1464cbfa450b451303a
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables:
  - description: ç”Ÿæˆã•ã‚ŒãŸæœ€æ–°ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³æœ¬æ–‡
    id: 5002e8f8-b708-4f76-8bdd-b66db2b89f0b
    name: current_caption
    selector:
    - conversation
    - current_caption
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_size_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: '<button data-message="ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ">ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ</button>

      <form data-format=''json''>'
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: if-else
        targetType: code
      id: 1764133239426-false-1764133274543-target
      source: '1764133239426'
      sourceHandle: 'false'
      target: '1764133274543'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: iteration
      id: 1764133274543-source-1764137507023-target
      source: '1764133274543'
      sourceHandle: source
      target: '1764137507023'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        iteration_id: '1764137507023'
        sourceType: iteration-start
        targetType: http-request
      id: 1764137507023start-source-1764137568539-target
      source: 1764137507023start
      sourceHandle: source
      target: '1764137568539'
      targetHandle: target
      type: custom
      zIndex: 1002
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1764137507023-source-1764137639774-target
      source: '1764137507023'
      sourceHandle: source
      target: '1764137639774'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: template-transform
      id: 1764137639774-source-1764137713240-target
      source: '1764137639774'
      sourceHandle: source
      target: '1764137713240'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: template-transform
        targetType: knowledge-retrieval
      id: 1764137713240-source-1764137766656-target
      source: '1764137713240'
      sourceHandle: source
      target: '1764137766656'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1764137766656-source-llm-target
      source: '1764137766656'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: assigner
      id: llm-source-1764138645177-target
      source: llm
      sourceHandle: source
      target: '1764138645177'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: start
        targetType: question-classifier
      id: 1764132979650-source-1764138703709-target
      source: '1764132979650'
      sourceHandle: source
      target: '1764138703709'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: question-classifier
        targetType: if-else
      id: 1764138703709-1-1764133239426-target
      source: '1764138703709'
      sourceHandle: '1'
      target: '1764133239426'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: question-classifier
        targetType: llm
      id: 1764138703709-2-1764138847708-target
      source: '1764138703709'
      sourceHandle: '2'
      target: '1764138847708'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: assigner
      id: 1764138847708-source-1764139281626-target
      source: '1764138847708'
      sourceHandle: source
      target: '1764139281626'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1764139281626-source-answer-target
      source: '1764139281626'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: assigner
        targetType: answer
      id: 1764138645177-source-answer-target
      source: '1764138645177'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: llm
      id: 1764133239426-true-1764144951349-target
      source: '1764133239426'
      sourceHandle: 'true'
      target: '1764144951349'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: llm
        targetType: code
      id: 1764144951349-source-1764137639774-target
      source: '1764144951349'
      sourceHandle: source
      target: '1764137639774'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›
        type: start
        variables:
        - default: ''
          hint: ''
          label: ä¼ç”»æ¡ˆ
          max_length: 256
          options: []
          placeholder: ''
          required: true
          type: text-input
          variable: planning_proposal
        - default: ''
          hint: ''
          label: ä¼ç”»æ„å›³
          max_length: 10000
          options: []
          placeholder: ''
          required: true
          type: paragraph
          variable: planning_intent
        - default: ''
          hint: ''
          label: å‚ç…§URLâ‘ 
          max_length: 10000
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: ref_url1
        - default: ''
          hint: ''
          label: å‚ç…§URLâ‘¡
          max_length: 10000
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: ref_url2
        - default: ''
          hint: ''
          label: å‚ç…§URLâ‘¢
          max_length: 10000
          options: []
          placeholder: ''
          required: false
          type: paragraph
          variable: ref_url3
      height: 213
      id: '1764132979650'
      position:
        x: 6.388758800566848
        y: 358
      positionAbsolute:
        x: 6.388758800566848
        y: 358
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params: {}
          mode: chat
          name: gpt-5-mini
          provider: langgenius/openai/openai
        prompt_template:
        - edition_type: basic
          id: f2ab7006-230c-4e33-a205-75ba244eda95
          role: system
          text: "# Role\nã‚ãªãŸã¯åŒ–ç²§å“ãƒ–ãƒ©ãƒ³ãƒ‰ã€Œãƒˆãƒ¯ãƒ‹ãƒ¼ï¼ˆTWANYï¼‰ã€ã®ç†Ÿç·´SNSãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°æ‹…å½“è€…ã§ã™ã€‚\nãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰æä¾›ã•ã‚Œã‚‹ã€Œä¼ç”»æƒ…å ±ã€ã¨ã€Œå‚ç…§ãƒ‡ãƒ¼ã‚¿ã€ã‚’åŸºã«ã€ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã®å¿ƒã«éŸ¿ãInstagramæŠ•ç¨¿ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆå®Œæˆå½¢ï¼‰ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚\n\
            \n# Brand Persona (æœ€é‡è¦ï¼šãƒˆãƒ¯ãƒ‹ãƒ¼ã®èªã‚Šå£)\n**ã‚ãªãŸã¯ã€ŒAIã€ã‚„ã€Œèª¬æ˜è€…ã€ã§ã¯ãªãã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¾ã«å¯„ã‚Šæ·»ã†ã€Œè‰¯ããƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€ã§ã™ã€‚ä»¥ä¸‹ã®ãƒˆãƒ¼ãƒ³ï¼†ãƒãƒŠãƒ¼ã‚’å¾¹åº•çš„ã«å®ˆã£ã¦ãã ã•ã„ã€‚**\n\
            \n1.  **èªã‚Šå£ã®æ¸©åº¦æ„Ÿ**:\n    * Ã— ç¡¬ã„è¡¨ç¾ï¼šã€Œã€œã‚’ã”å­˜çŸ¥ã§ã—ã‚‡ã†ã‹ã€ã€Œã€œã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§åŠ¹æœãŒã‚ã‚Šã¾ã™ã€\n    *\
            \ â—‹ ãƒˆãƒ¯ãƒ‹ãƒ¼æµï¼šã€Œã€œã ã¨æ€ã„ã¾ã›ã‚“ã‹ï¼Ÿã€ã€Œã€œãªã®ãŒå¬‰ã—ã„ã§ã™ã‚ˆã­\U0001F33Fã€ã€Œã€œã—ã¦ã¿ã¾ã›ã‚“ã‹ï¼Ÿã€\n    * è¦ªã—ã¿ã‚„ã™ã•ã®ä¸­ã«ã€å¤§äººã®å¥³æ€§ã«å‘ã‘ãŸã€Œå“æ ¼ã€ã¨ã€ŒçŸ¥æ€§ã€ã‚’æ»²ã¾ã›ã¦ãã ã•ã„ã€‚\n\
            2.  **å…±æ„Ÿã¨å•ã„ã‹ã‘ï¼ˆToikakeï¼‰**:\n    * ä¸€æ–¹çš„ã«æƒ…å ±ã‚’æŠ•ã’ã‚‹ã®ã§ã¯ãªãã€å†’é ­ï¼ˆè¦‹å‡ºã—ã®ç›´å¾Œï¼‰ã¯å¿…ãšãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¥å¸¸ã‚„è‚Œå®Ÿæ„Ÿã«ãƒªãƒ³ã‚¯ã•ã›ã¦ãã ã•ã„ã€‚\n\
            3.  **ãƒªã‚ºãƒ ã¨ä½™ç™½**:\n    * æ¼¢å­—ã°ã‹ã‚Šã®è©°ã¾ã£ãŸæ–‡ç« ã¯é¿ã‘ã¦ã€é©åº¦ã«ã²ã‚‰ãŒãªã‚’é–‹ã„ã¦ãã ã•ã„ã€‚\n\n# Knowledge\
            \ Logic (TYPEå®šç¾© & å³æ ¼ãªåˆ¤å®šåŸºæº–)\nä»¥ä¸‹ã®å„ªå…ˆé †ä½ã«å¾“ã£ã¦ã€TYPE-Aã‹TYPE-Bã‹ã‚’åˆ¤å®šã—ã¦ãã ã•ã„ã€‚\n**ã€é‡è¦ã€‘ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«ã‚ˆã‚‹åˆ¤å®šã‚’æœ€å„ªå…ˆã—ã¾ã™ã€‚æ–‡è„ˆã‚ˆã‚Šã‚‚å˜èªã®æœ‰ç„¡ã§æ©Ÿæ¢°çš„ã«æ±ºå®šã—ã¦ãã ã•ã„ã€‚**\n\
            \n**åˆ¤å®šã®çµ¶å¯¾ãƒ«ãƒ¼ãƒ«**:\nä¼ç”»æ¡ˆã‚„æ„å›³ã®ä¸­ã«ã€ä»¥ä¸‹ã®**TYPE-Bãƒˆãƒªã‚¬ãƒ¼ãƒ¯ãƒ¼ãƒ‰**ãŒ1ã¤ã§ã‚‚å«ã¾ã‚Œã‚‹å ´åˆã¯ã€ãŸã¨ãˆãƒ†ãƒ¼ãƒãŒã€Œä¹¾ç‡¥å¯¾ç­–ã€ã‚„ã€Œæ¯›ç©´ã‚±ã‚¢ã€ãªã©ã®æ‚©ã¿è§£æ±ºã§ã‚ã£ã¦ã‚‚ã€**å¿…ãšã€ŒTYPE-Bã€**ã¨ã—ã¦æ§‹æˆã™ã‚‹ã“ã¨ã€‚\n\
            \n1.  **TYPE-Bï¼ˆãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»æ–°å•†å“å‹ï¼‰**\n    * **çµ¶å¯¾ãƒˆãƒªã‚¬ãƒ¼**: **ã€Œç™»å ´ã€ã€Œæ–°ç™ºå£²ã€ã€Œæ–°å•†å“ã€ã€Œãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã€ã€Œé™å®šã€ã€Œã‚³ãƒ•ãƒ¬ã€ã€Œæ–°è‰²ã€ã€Œè§£ç¦ã€ã€Œèª•ç”Ÿã€ã€Œäºˆç´„ã€**\n\
            \    * **ã€å¿…é ˆã€‘å†’é ­ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ**:\n        * **å¿…ãšã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®1è¡Œç›®ã‚’ã€å…¨è§’è¨˜å·ã€Œï¼¼ã€ã¨ã€Œï¼ã€ã§æŒŸã‚“ã ã‚­ãƒ£ãƒƒãƒãƒ¼ãªè¦‹å‡ºã—ã‹ã‚‰å§‹ã‚ã¦ãã ã•ã„ã€‚**\n\
            \        * ä¾‹ï¼š`ï¼¼ä»Šã ã‘é™å®šãƒ©ãƒ¼ã‚¸ã‚µã‚¤ã‚ºç™»å ´ï¼ï¼` `ï¼¼å¾…æœ›ã®ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«âœ¨ï¼`\n    * **æ§‹æˆãƒ•ãƒ­ãƒ¼**:\n   \
            \     1.  **News Headline**: ï¼¼çŸ­ã„ãƒ‹ãƒ¥ãƒ¼ã‚¹è¦‹å‡ºã—ï¼\n        2.  **Hook**: ãã®ç›´å¾Œã«ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å•ã„ã‹ã‘ã‚„å…±æ„Ÿã§ç¹‹ãï¼ˆãƒˆãƒ¯ãƒ‹ãƒ¼ã‚‰ã—ã•ï¼‰ã€‚\n\
            \        3.  **Detail**: é€²åŒ–ç‚¹ã‚„é™å®šè¦ç´ ã®é­…åŠ›ã€‚\n        4.  **Benefit**: æƒ…ç·’çš„ä¾¡å€¤ã€‚\n\
            \n2.  **TYPE-Aï¼ˆèª²é¡Œè§£æ±ºãƒ»å­£ç¯€å‹ï¼‰**\n    * **ãƒˆãƒªã‚¬ãƒ¼**: ä¸Šè¨˜TYPE-Bã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒ**ä¸€ã¤ã‚‚ãªã„**å ´åˆã®ã¿é¸æŠã€‚\n\
            \    * **ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰**: ã€Œä¹¾ç‡¥ã€ã€Œæ¯›ç©´ã€ã€Œãã™ã¿ã€ã€Œç´«å¤–ç·šã€ã€Œãƒ†ã‚«ãƒªã€ã€Œå­£ç¯€ã®å¤‰ã‚ã‚Šç›®ã€ã€Œãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã€ã€Œè¦‹ç›´ã—ã€\n    *\
            \ **æ§‹æˆãƒ•ãƒ­ãƒ¼**: æ‚©ã¿ã®ä»£å¼ãƒ»å…±æ„Ÿ(Sympathy) â†’ è§£æ±ºç­–ã®ææ¡ˆ(Solution) â†’ ä½¿ç”¨å¾Œã®ãƒ™ãƒãƒ•ã‚£ãƒƒãƒˆ(Benefit)\
            \ â†’ çµã³\n\n# strict Compliance Rules (éµå®ˆäº‹é …)\n**ãƒˆãƒ¼ãƒ³ã¯æŸ”ã‚‰ã‹ãã¨ã‚‚ã€ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã¯æ³•å¾‹éµå®ˆã®ãŸã‚å³æ ¼ã«é©ç”¨ã™ã‚‹ã“ã¨ã€‚**\n\
            1.  **æœªè¨˜è¼‰ã®åŠ¹èƒ½è¡¨ç¾ã®ç¦æ­¢**:\n    * å‚ç…§ãƒ‡ãƒ¼ã‚¿ã«æ˜è¨˜ã•ã‚Œã¦ã„ãªã„åŠ¹èƒ½ï¼ˆç‰¹ã«ã€Œç¾ç™½ã€ã€Œã‚¨ã‚¤ã‚¸ãƒ³ã‚°ã‚±ã‚¢ã€ç­‰ã®å¼·ã„è¨€è‘‰ï¼‰ã¯ã€é›°å›²æ°—ã§è£œå®Œã›ãš**çµ¶å¯¾ã«ä½¿ç”¨ã—ãªã„**ã§ãã ã•ã„ã€‚\n\
            2.  **æ³¨é‡ˆã®å®Œå…¨åŒæœŸ**:\n    * å‚ç…§ãƒ‡ãƒ¼ã‚¿å†…ã§æ³¨é‡ˆè¨˜å·ï¼ˆï¼Š1, â€»1ãªã©ï¼‰ãŒã¤ã„ã¦ã„ã‚‹æˆåˆ†åã‚„åŠ¹èƒ½è¡¨ç¾ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³å†…ã§ã‚‚**å¿…ãšåŒã˜è¨˜å·ã‚’ä»˜ä¸**ã—ã¦ãã ã•ã„ã€‚\n\
            \    * æ³¨é‡ˆã®èª¬æ˜æ–‡ã¯æœ¬æ–‡ä¸­ã«ã¯æ›¸ã‹ãšã€**æ‰€å®šã®ä½ç½®ï¼ˆæœ¬æ–‡ã®ä¸‹ï¼‰**ã«ã¾ã¨ã‚ã¦ãã ã•ã„ã€‚\n\n# Process Instructions\n\
            1.  **åˆ¤å®šã¨æƒ…å ±ã®çµ±åˆ**:\n    * **Step 1ï¼ˆæœ€å„ªå…ˆï¼‰**: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ï¼ˆä¼ç”»æ¡ˆãƒ»æ„å›³ï¼‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã€ã€Œç™»å ´ã€ã€Œæ–°ã€ãªã©ã®TYPE-Bãƒˆãƒªã‚¬ãƒ¼ãŒã‚ã‚‹ã‹æ¢ã™ã€‚**ã‚ã‚Œã°å³åº§ã«TYPE-Bãƒ¢ãƒ¼ãƒ‰ã«å›ºå®šã™ã‚‹ã€‚**\n\
            \    * ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æƒ…å ±ã‹ã‚‰å•†å“ã‚¹ãƒšãƒƒã‚¯ã‚’æŠ½å‡ºã€‚\n2.  **åŸ·ç­†**:\n    * çµµæ–‡å­—ã®ä½¿ç”¨ï¼šé©åº¦ã«ä½¿ç”¨ã—ã€ç”»é¢ã‚’è¯ã‚„ã‹ã«ã™ã‚‹ï¼ˆâœ¨,\
            \ \U0001F48E, \U0001F33F, â¤, \U0001F484 ãªã©ï¼‰ã€‚\n    * åŒ»è–¬éƒ¨å¤–å“ã®å ´åˆï¼šã‚¹ãƒšãƒƒã‚¯æ¬„ã®å•†å“åå³å´ã«ã®ã¿ã€åŒ»è–¬éƒ¨å¤–å“ã€‘ã¨è¨˜è¼‰ã€‚\n\
            \    * **æ§‹æˆæŒ‡ç¤ºãƒ©ãƒ™ãƒ«ï¼ˆã€Œï¼ˆå°å…¥ï¼‰ã€ãªã©ï¼‰ã¯å‡ºåŠ›ã—ãªã„ã€‚**\n3.  **æœ€çµ‚ç¢ºèªï¼ˆé‡è¦ï¼‰**:\n    * **å•†å“åãƒã‚§ãƒƒã‚¯**:\
            \ æœ¬æ–‡ã®å¾Œã‚ã«ã‚ã‚‹ã€Œã€œãŒæ°—ã«ãªã‚‹ï¼ã¨ã„ã†æ–¹ã¯ã€ã®ç›´å‰ã®è¡Œã«ã€**å¿…ãšä»Šå›ç´¹ä»‹ã—ãŸå…¨å•†å“åãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ã‹**ç¢ºèªã™ã‚‹ã€‚ã“ã“ãŒç©ºæ¬„ã«ãªã£ã¦ã„ã‚‹å ´åˆã¯å‡ºåŠ›ã‚’ä¿®æ­£ã—ã€å¿…ãšå•†å“åã‚’åŸ‹ã‚ã‚‹ã“ã¨ã€‚\n\
            \n# Output Format\nä»¥ä¸‹ã®å½¢å¼ã§**æŠ•ç¨¿ç”¨ãƒ†ã‚­ã‚¹ãƒˆã®ã¿**ã‚’å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚\n**é…ç½®é †åºãŠã‚ˆã³ã€å¾Œè¿°ã™ã‚‹ã€æ¡ä»¶ä»˜ãè¡Œã®å‰Šé™¤ãƒ«ãƒ¼ãƒ«ã€‘ã‚’å³å®ˆã—ã¦ãã ã•ã„ã€‚**\n\
            \n[ç”»åƒ1æšç›®ã«å…¥ã‚Œã‚‹KVï¼ˆã‚­ãƒ£ãƒƒãƒã‚³ãƒ”ãƒ¼ï¼‰]\n\n---\n\n[ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³æœ¬æ–‡]\nâ€»è‡ªç„¶ãªæ®µè½åˆ†ã‘ã‚’è¡Œã†ã“ã¨ã€‚\nâ€»TYPE-Bã®å ´åˆã¯ã€å¿…ãš\
            \ `ï¼¼è¦‹å‡ºã—æ–‡è¨€ï¼` ã‹ã‚‰æ›¸ãå§‹ã‚ã‚‹ã“ã¨ã€‚\nâ€»**é‡è¦**: æœ¬æ–‡ã®é€”ä¸­ã«ã¯æ³¨é‡ˆå†…å®¹ï¼ˆèª¬æ˜æ–‡ï¼‰ã‚’æŒŸã¾ãªã„ã“ã¨ã€‚è¨˜å·ã®ã¿ã«ã¨ã©ã‚ã‚‹ã“ã¨ã€‚\n\
            \n[æ³¨é‡ˆãƒªã‚¹ãƒˆå‡ºåŠ›ã‚¨ãƒªã‚¢]\nâ€»æœ¬æ–‡çµ‚äº†å¾Œã€ä½¿ç”¨ã—ãŸæ³¨é‡ˆãŒã‚ã‚‹å ´åˆã®ã¿ã€ã“ã“ã«å‡ºåŠ›ã™ã‚‹ã€‚\nâ€»**æ³¨é‡ˆãŒä¸€ã¤ã‚‚ãªã„å ´åˆã¯ã€ã“ã®ã‚¨ãƒªã‚¢ã«ã¯ä½•ã‚‚å‡ºåŠ›ã—ãªã„ï¼ˆç©ºè¡Œã‚‚å…¥ã‚Œãªã„ï¼‰ã€‚**\n\
            \n[ã“ã“ã«ã¯å¿…ãšå•†å“åã‚’è¨˜è¼‰ã™ã‚‹ï¼ˆè¤‡æ•°ã®å ´åˆã¯æ”¹è¡Œã—ã¦å…¨ã¦åˆ—æŒ™ï¼‰]\nãŒæ°—ã«ãªã‚‹ï¼ã¨ã„ã†æ–¹ã¯\nã€â¤ã€‘ã®çµµæ–‡å­—ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’ãã ã•ã„ã¾ã›ã€‚\n\
            â€»â†‘ä¸Šè¨˜ã®ã€Œå•†å“åã€éƒ¨åˆ†ã¯çµ¶å¯¾ã«ç©ºæ¬„ã«ã—ãªã„ã“ã¨ã€‚å¿…ãšæ–‡å­—ãŒå…¥ã£ã¦ã„ã‚‹çŠ¶æ…‹ã§å‡ºåŠ›ã™ã‚‹ã“ã¨ã€‚\n\nç‡ç›´ãªã”æ„è¦‹ãƒ»ã”æ„Ÿæƒ³ã‚‚ãŠå¾…ã¡ã—ã¦ãŠã‚Šã¾ã™ã€‚\n\
            ãƒˆãƒ¯ãƒ‹ãƒ¼æ‹…å½“è€…ãŒæ‹è¦‹ã„ãŸã—ã¾ã™ã€‚\n\n----------------\n[å•†å“å] [ã‚¿ã‚¤ãƒ—åï¼ˆâ… ãƒ»â…¡ç­‰ãŒã‚ã‚Œã°ã“ã“ã«ä½µè¨˜ï¼‰]\nï¼œã‚«ãƒ†ã‚´ãƒªãƒ¼ï¼\n\
            [ã‚¿ã‚¤ãƒ—è©³ç´°è¡Œï¼ˆæ¡ä»¶ä»˜ãè¡¨ç¤ºï¼‰]\n[å®¹é‡]ã€€[ä¾¡æ ¼(ç¨è¾¼)]\n[ãƒ¬ãƒ•ã‚£ãƒ«æƒ…å ±è¡Œï¼ˆæ¡ä»¶ä»˜ãè¡¨ç¤ºï¼‰]\n----------------\n\
            \n# Conditional Rules (æ¡ä»¶ä»˜ãè¡Œã®å‰Šé™¤ãƒ«ãƒ¼ãƒ«)\nä»¥ä¸‹ã®é …ç›®ã¯ã€ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„å ´åˆã«**ã€Œãªã—ã€ã‚„ã€Œâ€•ã€ç­‰ã®æ–‡å­—ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ã‚’å›ºãç¦ã˜ã¾ã™ã€‚è¡Œãã®ã‚‚ã®ã‚’å®Œå…¨ã«å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚**\n\
            \n1.  **[ã‚¿ã‚¤ãƒ—è©³ç´°è¡Œ] ã®ãƒ«ãƒ¼ãƒ«**:\n    * å…¬å¼æƒ…å ±ã«ã€Œâ… ï¼šã•ã£ã±ã‚Šï¼â…¡ï¼šã—ã£ã¨ã‚Šã€ãªã©ã®**æ˜ç¤ºçš„ãªã‚¿ã‚¤ãƒ—åŒºåˆ†**ãŒã‚ã‚‹å ´åˆã®ã¿å‡ºåŠ›ã™ã‚‹ã€‚\n\
            \    * åŒºåˆ†ãŒãªã„å ´åˆã€ç„¡ç†ã«åˆ†é¡ã—ãŸã‚Šã€Œå…¨è‚Œè³ªå¯¾å¿œã€ãªã©ã¨å‰µä½œã›ãšã€**è¡Œã”ã¨å‰Šé™¤ã™ã‚‹ã€‚**\n2.  **[ãƒ¬ãƒ•ã‚£ãƒ«æƒ…å ±è¡Œ] ã®ãƒ«ãƒ¼ãƒ«**:\n\
            \    * å…¬å¼æƒ…å ±ã«ã€Œãƒ¬ãƒ•ã‚£ãƒ«ã€ã®ä¾¡æ ¼ã‚„å®¹é‡è¨˜è¼‰ãŒã‚ã‚‹å ´åˆã®ã¿å‡ºåŠ›ã™ã‚‹ã€‚\n    * è¨˜è¼‰ãŒãªã„å ´åˆã€ã€Œãƒ¬ãƒ•ã‚£ãƒ«ãªã—ã€ã¨æ›¸ã‹ãšã€**è¡Œã”ã¨å‰Šé™¤ã™ã‚‹ã€‚**\n\
            3.  **è¤‡æ•°å•†å“ã®ã‚¹ãƒšãƒƒã‚¯è¨˜è¼‰ãƒ«ãƒ¼ãƒ«**:\n    * ç´¹ä»‹ã™ã‚‹å•†å“ãŒè¤‡æ•°ã®å ´åˆã¯ã€`----------------` ã‹ã‚‰ `----------------`\
            \ ã¾ã§ã®ãƒ–ãƒ­ãƒƒã‚¯ã‚’å•†å“æ•°åˆ†ç¹°ã‚Šè¿”ã—ã¦è¨˜è¼‰ã™ã‚‹ã“ã¨ã€‚\n\n#ãƒˆãƒ¯ãƒ‹ãƒ¼ #twany [é–¢é€£ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°]"
        - id: 822ad106-ca0d-43b6-8b23-e8e809563d7d
          role: user
          text: 'ä»¥ä¸‹ã®æƒ…å ±ã‚’åŸºã«ã€SYSTEMãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æŒ‡ç¤ºã«å¾“ã£ã¦**æŠ•ç¨¿ç”¨ã®å®Œæˆç‰ˆã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³**ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚ æ§‹æˆãƒ©ãƒ™ãƒ«ï¼ˆä¾‹ï¼šã€Œï¼ˆå°å…¥ï¼‰ã€ã€Œï¼ˆå±•é–‹ï¼‰ã€ï¼‰ã¯å‡ºåŠ›ã—ãªã„ã§ãã ã•ã„ã€‚


            # 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¼ç”»æƒ…å ±

            ## ä¼ç”»æ¡ˆ

            {{#1764132979650.planning_proposal#}}


            ## ä¼ç”»æ„å›³

            {{#1764132979650.planning_intent#}}


            # 2. å‚ç…§ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ

            ## Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ (å•†å“è©³ç´°)

            {{#1764137639774.combined_text#}}


            ## ãƒŠãƒ¬ãƒƒã‚¸æ¤œç´¢çµæœ (éå»ã®å‹ã¡ãƒ‘ã‚¿ãƒ¼ãƒ³)

            {{#context#}}'
        selected: true
        title: åˆç¨¿ä½œæˆ
        type: llm
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 88
      id: llm
      position:
        x: 3040
        y: 94
      positionAbsolute:
        x: 3040
        y: 94
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#conversation.current_caption#}}'
        selected: false
        title: å›ç­”
        type: answer
        variables: []
      height: 104
      id: answer
      position:
        x: 3744
        y: 103
      positionAbsolute:
        x: 3744
        y: 103
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: empty
            id: 9f5498cc-b53f-449e-983d-6198d77e62fa
            value: ''
            varType: string
            variable_selector:
            - '1764132979650'
            - ref_url1
          id: 'true'
          logical_operator: and
        selected: false
        title: IF/ELSE
        type: if-else
      height: 124
      id: '1764133239426'
      position:
        x: 704
        y: 55
      positionAbsolute:
        x: 704
        y: 55
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "def main(u1: str, u2: str, u3: str) -> dict:\n    # å…¥åŠ›ã‚’ãƒªã‚¹ãƒˆã«å…¥ã‚Œã‚‹\n  \
          \  raw_list = [u1, u2, u3]\n\n    # ç©ºæ–‡å­—ã‚„Noneï¼ˆå…¥åŠ›ãªã—ï¼‰ã‚’é™¤å¤–ã—ã¦ã€æœ‰åŠ¹ãªURLã ã‘ã®ãƒªã‚¹ãƒˆã‚’ä½œã‚‹\n\
          \    clean_urls = [x for x in raw_list if x and x.strip() != \"\"]\n\n \
          \   return {\n        \"url_list\": clean_urls\n    }"
        code_language: python3
        outputs:
          url_list:
            children: null
            type: array[string]
        selected: false
        title: ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
        type: code
        variables:
        - value_selector:
          - '1764132979650'
          - ref_url1
          value_type: string
          variable: u1
        - value_selector:
          - '1764132979650'
          - ref_url2
          value_type: string
          variable: u2
        - value_selector:
          - '1764132979650'
          - ref_url3
          value_type: string
          variable: u3
      height: 52
      id: '1764133274543'
      position:
        x: 1066
        y: 103
      positionAbsolute:
        x: 1066
        y: 103
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        error_handle_mode: terminated
        flatten_output: true
        height: 258
        is_parallel: false
        iterator_input_type: array[string]
        iterator_selector:
        - '1764133274543'
        - url_list
        output_selector:
        - '1764137568539'
        - body
        output_type: array[string]
        parallel_nums: 10
        selected: false
        start_node_id: 1764137507023start
        title: ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
        type: iteration
        width: 486
      height: 258
      id: '1764137507023'
      position:
        x: 1408
        y: 0
      positionAbsolute:
        x: 1408
        y: 0
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 486
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1764137507023start
      parentId: '1764137507023'
      position:
        x: 60
        y: 105
      positionAbsolute:
        x: 1468
        y: 105
      selectable: false
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: []
          type: none
        headers: ''
        isInIteration: true
        isInLoop: false
        iteration_id: '1764137507023'
        method: get
        params: url:{{#1764137507023.item#}}
        retry_config:
          max_retries: 3
          retry_enabled: true
          retry_interval: 100
        selected: false
        ssl_verify: true
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
        type: http-request
        url: https://screenshot.aibase.buzz/userlike
        variables: []
      height: 137
      id: '1764137568539'
      parentId: '1764137507023'
      position:
        x: 184
        y: 60
      positionAbsolute:
        x: 1592
        y: 60
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gemini-2.5-flash
          provider: langgenius/gemini/google
        prompt_template:
        - edition_type: basic
          id: f60e8286-a320-4ba8-8eff-53c12c2007c1
          role: system
          text: æ·»ä»˜ã•ã‚Œã¦è³‡æ–™ã®å†…å®¹ã‚’éš…ã€…ã¾ã§è©³ç´°ã«èª­ã¿å–ã‚Šã€æ–‡å­—èµ·ã“ã—ã—ã¦ãã ã•ã„
        selected: false
        title: è³‡æ–™ãƒ†ã‚­ã‚¹ãƒˆåŒ–
        type: llm
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 88
      id: '1764144951349'
      position:
        x: 1076.647931334278
        y: 249.32396566713902
      positionAbsolute:
        x: 1076.647931334278
        y: 249.32396566713902
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "function main({ html_array, reference_info }) {\n  const htmlList =\
          \ html_array || [];\n\n  // HTMLãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã™ã‚‹å†…éƒ¨é–¢æ•°\n  function cleanHtml(html)\
          \ {\n    if (!html || typeof html !== 'string') {\n      return '';\n  \
          \  }\n    let text = html;\n    // scriptã¨styleã‚¿ã‚°ã‚’ä¸­èº«ã”ã¨å‰Šé™¤\n    text = text.replace(/<script\\\
          b[^>]*>[\\s\\S]*?<\\/script>/gi, '');\n    text = text.replace(/<style\\\
          b[^>]*>[\\s\\S]*?<\\/style>/gi, '');\n    // bodyã‚¿ã‚°ã®ä¸­èº«ã ã‘ã‚’æŠ½å‡º\n    const bodyMatch\
          \ = text.match(/<body[^>]*>([\\s\\S]*)<\\/body>/i);\n    if (bodyMatch &&\
          \ bodyMatch[1]) {\n      text = bodyMatch[1];\n    }\n    // æ®‹ã‚Šã®HTMLã‚¿ã‚°ã‚’å‰Šé™¤\n\
          \    text = text.replace(/<[^>]*>/g, '');\n    // HTMLã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’å¤‰æ›\n    text\
          \ = text.replace(/&[a-zA-Z0-9#]+;/g, ' ');\n    // å…¨ã¦ã®æ”¹è¡Œãƒ»ã‚¿ãƒ–ã‚’ã‚¹ãƒšãƒ¼ã‚¹ã«å¤‰æ›\n  \
          \  text = text.replace(/[\\r\\n\\t]+/g, ' ');\n    // é€£ç¶šã‚¹ãƒšãƒ¼ã‚¹ã‚’1ã¤ã«\n    text\
          \ = text.replace(/ {2,}/g, ' ');\n    return text.trim();\n  }\n\n  // å…¬å¼URLã‹ã‚‰å–å¾—ã—ãŸå„HTMLã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—\n\
          \  const cleanedOfficialTexts = htmlList.map(html => cleanHtml(html));\n\
          \n  // ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã—ãŸå…¬å¼URLã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ä¸€ã¤ã®ãƒ–ãƒ­ãƒƒã‚¯ã«çµåˆ\n  const combined_official_info =\
          \ cleanedOfficialTexts.join('\\n\\n--- [æ¬¡ã®æƒ…å ±] ---\\n\\n');\n\n  // å…¬å¼URLã®æƒ…å ±ã¨ã€å‚è€ƒè³‡æ–™ã®æƒ…å ±ã‚’æœ€çµ‚çš„ã«çµåˆ\n\
          \  const all_info = [\n    combined_official_info,\n    reference_info\n\
          \  ].filter(text => text && text.trim() !== '').join('\\n\\n--- [æ¬¡ã®æƒ…å ±] ---\\\
          n\\n');\n\n  return {\n    combined_text: all_info\n  };\n}"
        code_language: javascript
        outputs:
          combined_text:
            children: null
            type: string
        selected: false
        title: ã¾ã¨ã‚ï¼†ãƒã‚¤ã‚ºé™¤å»
        type: code
        variables:
        - value_selector:
          - '1764137507023'
          - output
          value_type: array[string]
          variable: html_array
        - value_selector:
          - '1764144951349'
          - text
          value_type: string
          variable: reference_info
      height: 52
      id: '1764137639774'
      position:
        x: 2014
        y: 112
      positionAbsolute:
        x: 2014
        y: 112
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        selected: false
        template: '{{proposal}} {{intent}}'
        title: ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
        type: template-transform
        variables:
        - value_selector:
          - '1764132979650'
          - planning_proposal
          value_type: string
          variable: proposal
        - value_selector:
          - '1764132979650'
          - planning_intent
          value_type: string
          variable: intent
      height: 52
      id: '1764137713240'
      position:
        x: 2356
        y: 112
      positionAbsolute:
        x: 2356
        y: 112
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - Huxu6tby+fEnN/u5Fy2hlaE18EQC+NPxXK68YnIJZfgW1m2REK7fVntBq9MFOdH2
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: cohere.rerank-v3-5:0
            provider: langgenius/bedrock/bedrock
          score_threshold: null
          top_k: 4
        query_variable_selector:
        - '1764137713240'
        - output
        retrieval_mode: multiple
        selected: false
        title: çŸ¥è­˜æ¤œç´¢
        type: knowledge-retrieval
      height: 90
      id: '1764137766656'
      position:
        x: 2698
        y: 93
      positionAbsolute:
        x: 2698
        y: 93
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: over-write
          value:
          - llm
          - text
          variable_selector:
          - conversation
          - current_caption
          write_mode: over-write
        selected: false
        title: å¤‰æ•°ä»£å…¥
        type: assigner
        version: '2'
      height: 84
      id: '1764138645177'
      position:
        x: 3382
        y: 96
      positionAbsolute:
        x: 3382
        y: 96
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        classes:
        - id: '1'
          name: æ–°è¦ä½œæˆ
        - id: '2'
          name: ä¿®æ­£
        instructions: ''
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gpt-4o-mini
          provider: langgenius/openai/openai
        query_variable_selector:
        - '1764132979650'
        - sys.query
        selected: false
        title: è³ªå•åˆ†é¡å™¨
        type: question-classifier
        vision:
          enabled: false
      height: 170
      id: '1764138703709'
      position:
        x: 342
        y: 379
      positionAbsolute:
        x: 342
        y: 379
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params: {}
          mode: chat
          name: gpt-5-mini
          provider: langgenius/openai/openai
        prompt_template:
        - edition_type: basic
          id: ad35decf-039a-4851-883e-98ba78c75029
          role: system
          text: '# Role

            ã‚ãªãŸã¯åŒ–ç²§å“ãƒ–ãƒ©ãƒ³ãƒ‰ã€Œãƒˆãƒ¯ãƒ‹ãƒ¼ï¼ˆTWANYï¼‰ã€ã®ç†Ÿç·´ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼å…¼ç·¨é›†è€…ã§ã™ã€‚

            ç¾åœ¨ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ä¼šè©±å¤‰æ•°ï¼ˆ`current_caption`ï¼‰ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã€ŒæŠ•ç¨¿ç”¨ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®åŸç¨¿ã€ã«å¯¾ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰éƒ¨åˆ†çš„ãªä¿®æ­£ã‚„æ¨æ•²ã®ä¾é ¼ãŒæ¥ã¦ã„ã¾ã™ã€‚


            # Task

            ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŒ‡ç¤ºï¼ˆ`query`ï¼‰ã«åŸºã¥ãã€åŸç¨¿ã®è©²å½“éƒ¨åˆ†ã®ã¿ã‚’ä¿®æ­£ãƒ»ææ¡ˆã—ã¦ãã ã•ã„ã€‚


            # Editing Rules

            1. **ãƒ”ãƒ³ãƒã‚¤ãƒ³ãƒˆä¿®æ­£**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŒ‡å®šã—ãŸç®‡æ‰€ä»¥å¤–ï¼ˆå•†å“ã‚¹ãƒšãƒƒã‚¯ã‚„ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ç­‰ï¼‰ã¯å¤‰æ›´ã—ãªã„ã§ãã ã•ã„ã€‚

            2. **ãƒˆãƒ¼ãƒ³ï¼†ãƒãƒŠãƒ¼ç¶­æŒ**: ãƒˆãƒ¯ãƒ‹ãƒ¼ã‚‰ã—ã„ã€Œè¦ªã—ã¿ã‚„ã™ãã€å“ã®ã‚ã‚‹èªã‚Šå£ã€ã‚’çµ¶å¯¾ã«å´©ã•ãªã„ã§ãã ã•ã„ã€‚

            3. **ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³æç¤º**: ã€Œä»–ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã€ã¨ã„ã†ä¾é ¼ã®å ´åˆã€åˆ‡ã‚Šå£ã‚’å¤‰ãˆãŸï¼ˆå…±æ„Ÿç³»ãƒ»æ©Ÿèƒ½ç³»ãƒ»æƒ…ç·’ç³»ãªã©ï¼‰3ã¤ã®æ¡ˆã‚’æç¤ºã—ã¦ãã ã•ã„ã€‚

            4. **æ§‹é€ ç¶­æŒ**: æ–‡è„ˆãŒãŠã‹ã—ããªã‚‰ãªã„ã‚ˆã†ã€å‰å¾Œã®æ–‡ç« ã¨ã®ç¹‹ãŒã‚Šã‚’æ„è­˜ã—ã¦ãã ã•ã„ã€‚


            # Output Format

            ä½™è¨ˆãªå‰ç½®ãã¯æœ€å°é™ã«ã—ã€ä»¥ä¸‹ã®å½¢å¼ã§è¦‹ã‚„ã™ãå‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚


            ã€ä¿®æ­£ãƒ»ææ¡ˆæ¡ˆã€‘

            ï¼ˆã“ã“ã«å…·ä½“çš„ãªä¿®æ­£æ¡ˆã‚„ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨˜è¿°ï¼‰

            ---

            â€»ä¿®æ­£ç†ç”±ã‚„ãƒã‚¤ãƒ³ãƒˆï¼ˆå¿…è¦ãªå ´åˆã®ã¿ç°¡æ½”ã«ï¼‰'
        - id: 11f6edf2-4eaf-4ee9-93bf-10725fe02675
          role: user
          text: '# Current Caption (ç¾åœ¨ã®åŸç¨¿)

            {{#conversation.current_caption#}}


            # User Instruction (ä¿®æ­£æŒ‡ç¤º)

            {{#sys.query#}}


            ä¸Šè¨˜ã®ã€Œç¾åœ¨ã®åŸç¨¿ã€ã«ãŠã‘ã‚‹ã€ã€Œä¿®æ­£æŒ‡ç¤ºã€ã®æ„å›³ã‚’æ±²ã¿å–ã£ã¦ã€æœ€é©ãªä¿®æ­£æ¡ˆã¾ãŸã¯ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚'
        selected: false
        title: ä¿®æ­£
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1764138847708'
      position:
        x: 704
        y: 448
      positionAbsolute:
        x: 704
        y: 448
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        items:
        - input_type: variable
          operation: over-write
          value:
          - '1764138847708'
          - text
          variable_selector:
          - conversation
          - current_caption
          write_mode: over-write
        selected: false
        title: å¤‰æ•°ä»£å…¥ 2
        type: assigner
        version: '2'
      height: 84
      id: '1764139281626'
      position:
        x: 2014
        y: 244
      positionAbsolute:
        x: 2014
        y: 244
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -1313.372721210039
      y: 290.42813149092984
      zoom: 0.5423991516714202
  rag_pipeline_variables: []
